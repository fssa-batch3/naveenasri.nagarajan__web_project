<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../assets/CSS/universe.css">
    <link rel="stylesheet" href="../assets/CSS/booking_list.css">
    <title>booking page</title>
</head>

<body>

    <!-- maincontainer is started -->
    <div class="container">
        <div class="list-of-customer">
            <div class="a-form bookingpage">
                <form id="bookingform">
                    <label>First name :</label>
                    <input id="firstname" type="text" placeholder="enter your name" />
                    <br /><br />
                    <label>Last name :</label>
                    <input id="lastname" type="text" placeholder="enter your name" />
                    <br /><br />
                    <label>User Email :</label>
                    <input id="email" type="email" placeholder="abc@gmail.com" />
                    <br /><br />
                    <label>phone number :</label>
                    <input id="phonenumber" type="tel" placeholder="phone number" />
                    <br /><br />
                    <label>Design name :</label>
                    <input id="designname" type="text" placeholder="design name" />
                    <br /><br />
                    <label>Design url :</label>
                    <input id="designurl" type="text" placeholder="url" />
                    <br /><br />
                    <label for="textarea">Message :</label>
                    <textarea id="messagetextarea" name="textarea" rows="2" cols="40">
                    </textarea>
                    <br />
                    <div class="both-btn">
                        <button type="submit">submit</button>
                    </div>
                </form>
            </div>


        </div>

    </div>



    <script>
        const bookingform = document.getElementById("bookingform");
        bookingform.addEventListener("submit", function (e) {
            e.preventDefault();

            let userbooking = [];
            console.log(userbooking);

            if (localStorage.getItem("userbooking") != null) {
                userbooking = JSON.parse(localStorage.getItem("userbooking"))
            }

            const bookfirstname = document.getElementById("firstname").value.trim();
            const booklastname = document.getElementById("lastname").value.trim();
            const bookemail = document.getElementById("email").value.trim();
            const bookphonenumber = document.getElementById("phonenumber").value.trim();
            const bookdesignname = document.getElementById("designname").value.trim();
            const bookdesignurl = document.getElementById("designurl").value.trim();
            const bookmessage = document.getElementById("messagetextarea").value.trim();
            const bookid = Date.now();

            let bookingData = {
                bookid: bookid,
                bookfirstname: bookfirstname,
                booklastname: booklastname,
                bookemail: bookemail,
                bookphonenumber: bookphonenumber,
                bookdesignname: bookdesignname,
                bookdesignurl: bookdesignurl,
                bookmessage: bookmessage,
            }

            console.log(bookingData);

            userbooking.push(bookingData);
            const str = JSON.stringify(userbooking);
            confirm("Make sure the given details should be correct we give this details to the Architect whom you select");
            window.localStorage.setItem("userbooking", str);

        })

    </script>
</body>

</html>