<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="../assets/CSS/universe.css" />
    <link rel="stylesheet" href="../assets/CSS/architect_apply_form.css" />
    <title>architect apply form</title>
</head>

<body>

    <section class="all-form">
        <form id="architectForm1">
            <div class="full_form">
                <div class="form">
                    <h2>personal information</h2>
                    <label for="image">Photo:</label>
                    <input type="url" id="image" required name="image" placeholder="Profileimage" /><br /><br />

                    <label>Name:</label>
                    <input type="text" required id="name" placeholder="John robert" />
                    <br />
                    <br />

                    <label>Gender:</label>
                    <input type="text" required id="gender" placeholder="Male/Female" />
                    <br />
                    <br />

                    <label>Phone number:</label>
                    <input type="tel" required id="phonenumber" placeholder="9218457240" />
                    <br />
                    <br />

                    <label>Address:</label>
                    <input type="text" required id="address" />
                    <br />
                    <br />
                </div>
                <div class="form">
                    <h2>professional information</h2>

                    <label>Education:</label>
                    <input type="text" required id="education" placeholder="Bachelor of architects" />
                    <br />
                    <br />
                    <label>Experience:</label>
                    <input type="text" required id="experience" placeholder="2 years" />
                    <br />
                    <br />
                    <label>Email:</label>
                    <input type="email" required id="email" placeholder="abc@gmail.com" />
                    <br />
                    <br />
                    <label>Password:</label>
                    <input type="text" required id="password" />
                    <br />
                    <br />
                    <label for="image">Document:</label>
                    <input type="url" required id="document" name="image" placeholder="Profileimage" /><br /><br />

                    <label for="image">model design:</label>
                    <input type="url" required id="modeldesign" name="image" placeholder="Profileimage" /><br /><br />
                    <br />

                    <button type="submit">Apply now / sign up

                    </button>
                </div>
            </div>

            <a class="logbtn" href="./architect_login.html">
                Login
            </a>

        </form>

    </section>


    <script>
        let check = false;
        const applyFrom = document.getElementById("architectForm1");
        console.log(applyFrom);

        applyFrom.addEventListener("submit", function (event) {
            event.preventDefault();


            let architectNew = [];
            console.log(architectNew)

            if (localStorage.getItem("personArchitect") != null) {
                architectNew = JSON.parse(localStorage.getItem("personArchitect"));
            }

            const getUrl = document.getElementById("image").value.trim();
            const getName = document.getElementById("name").value.trim();
            const getGender = document.getElementById("gender").value.trim();
            const getPhoneNumber = document.getElementById("phonenumber").value.trim();
            const getAddress = document.getElementById("address").value.trim();
            const getEducation = document.getElementById("education").value.trim();
            const getExperience = document.getElementById("experience").value.trim();
            const getEmail = document.getElementById("email").value.trim();
            const getPassword = document.getElementById("password").value.trim();
            const getDocument = document.getElementById("document").value.trim();
            const getModelDesign = document.getElementById("modeldesign").value.trim();
            const getId = Date.now();


            let architectData = {
                arcId: getId,
                arcUrl: getUrl,
                arcName: getName,
                arcGender: getGender,
                arcPhoneNumber: getPhoneNumber,
                arcAddress: getAddress,
                arcEducation: getEducation,
                arcExperience: getExperience,
                arcEmail: getEmail,
                arcPassword: getPassword,
                arcDocument: getDocument,
                arcModelDesign: getModelDesign,
            }

            console.log(architectData);

            for (let i = 0; i < architectNew.length; i++) {
                if (architectNew[i]["arcEmail"] === getEmail) {
                    check = true;
                    alert("user already exit")
                    break;
                } else {
                    check = false
                }
            }

            if (check === false) {
                architectNew.push(architectData);
                const data = JSON.stringify(architectNew)
                alert("sucessfully completed")
                window.localStorage.setItem("personArchitect", data)
                window.location.href = "./architect_login.html"
            }

        });
    </script>
</body>

</html>