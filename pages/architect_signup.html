<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="../assets/CSS/universe.css" />
    <link rel="stylesheet" href="../assets/CSS/architect_apply_form.css" />
    <title>architect apply form</title>
</head>

<body>

    <section class="all-form">
        <form id="architectForm1">
            <div class="full_form">
                <div class="form">
                    <h2>personal information</h2>
                    <label for="image">Photo:</label>
                    <input type="url" id="image" required name="image" placeholder="Profileimage" /><br /><br />

                    <label>Name:</label>
                    <input type="text" required pattern="[A-Za-z0-9]+"
                        title="Make sure that name should not contain space" required id="name"
                        placeholder="enter your name" />
                    <br />
                    <br />

                    <label>Gender:</label>
                    <input type="text" required id="gender" placeholder="Male/Female" />
                    <br />
                    <br />

                    <label>Phone number:</label>
                    <input type="tel" required pattern="[789]{1}[0-9]{9}"
                        title="Phone number with 7-9 and remaing 9 digit with 0-9" id="phonenumber"
                        placeholder="9218457240" />
                    <br />
                    <br />

                    <label>Address:</label>
                    <input type="text" required id="address" />
                    <br />
                    <br />
                    <label for="image">Cover Photo:</label>
                    <input type="url"
                        pattern="[Hh][Tt][Tt][Pp][Ss]?:\/\/(?:(?:[a-zA-Z\u00a1-\uffff0-9]+-?)*[a-zA-Z\u00a1-\uffff0-9]+)(?:\.(?:[a-zA-Z\u00a1-\uffff0-9]+-?)*[a-zA-Z\u00a1-\uffff0-9]+)*(?:\.(?:[a-zA-Z\u00a1-\uffff]{2,}))(?::\d{2,5})?(?:\/[^\s]*)?"
                        id="coverphoto" required name="image" placeholder="Cover photo design" />
                    <br />
                    <br />

                </div>
                <div class="form">
                    <h2>professional information</h2>
                    <label>Email:</label>
                    <input type="email" pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$"
                        title="Make sure email should be in the correct pattern" required id="email"
                        placeholder="abc@gmail.com" />
                    <br />
                    <br />
                    <label>Password:</label>
                    <input type="password" pattern="^(?=.*[0-9])(?=.*[a-z])(?=.*[A-Z])(?=\S+$).{8,}$"
                        title="Must contain at least one number and one uppercase and lowercase letter,at least 8 or more characters and must not contain space "
                        required id="password" />
                    <br />
                    <br />
                    <label>Education:</label>
                    <input type="text" required id="education" placeholder="Bachelor of architects" />
                    <br />
                    <br />
                    <label>Experience:</label>
                    <input type="text" required id="experience" placeholder="2 years" />
                    <br />
                    <br />
                    <label for="image">Degree certificate:</label>
                    <input type="url"
                        pattern="[Hh][Tt][Tt][Pp][Ss]?:\/\/(?:(?:[a-zA-Z\u00a1-\uffff0-9]+-?)*[a-zA-Z\u00a1-\uffff0-9]+)(?:\.(?:[a-zA-Z\u00a1-\uffff0-9]+-?)*[a-zA-Z\u00a1-\uffff0-9]+)*(?:\.(?:[a-zA-Z\u00a1-\uffff]{2,}))(?::\d{2,5})?(?:\/[^\s]*)?"
                        required id="document" name="image" placeholder="b.arch certificate" />
                    <br />
                    <br />
                    <label for="image">NATA certificate:</label>
                    <input type="url"
                        pattern="[Hh][Tt][Tt][Pp][Ss]?:\/\/(?:(?:[a-zA-Z\u00a1-\uffff0-9]+-?)*[a-zA-Z\u00a1-\uffff0-9]+)(?:\.(?:[a-zA-Z\u00a1-\uffff0-9]+-?)*[a-zA-Z\u00a1-\uffff0-9]+)*(?:\.(?:[a-zA-Z\u00a1-\uffff]{2,}))(?::\d{2,5})?(?:\/[^\s]*)?"
                        required id="natacertificate" name="image" placeholder="nata certificate" />
                    <br />
                    <br />
                    <!-- <label for="image">model design:</label>
                    <input type="url" required id="modeldesign" name="image" placeholder="Profileimage" /><br /><br />
                    <br /> -->

                    <button type="submit">Apply now / sign up

                    </button>
                </div>
            </div>

            <a class="logbtn" href="./architect_login.html">
                Login
            </a>

        </form>

    </section>


    <script>
        let check = false;
        const applyFrom = document.getElementById("architectForm1");
        console.log(applyFrom);

        applyFrom.addEventListener("submit", function (event) {
            event.preventDefault();


            let architectNew = [];
            console.log(architectNew)

            if (localStorage.getItem("personArchitect") != null) {
                architectNew = JSON.parse(localStorage.getItem("personArchitect"));
            }

            const getUrl = document.getElementById("image").value.trim();
            const getName = document.getElementById("name").value.trim();
            const getGender = document.getElementById("gender").value.trim();
            const getPhoneNumber = document.getElementById("phonenumber").value.trim();
            const getAddress = document.getElementById("address").value.trim();
            const getCoverPhoto = document.getElementById("coverphoto").value.trim();
            const getEducation = document.getElementById("education").value.trim();
            const getExperience = document.getElementById("experience").value.trim();
            const getEmail = document.getElementById("email").value.trim();
            const getPassword = document.getElementById("password").value.trim();
            const getDocument = document.getElementById("document").value.trim();
            const getNataCertificate = document.getElementById("natacertificate").value.trim();
            const getId = Date.now();


            let architectData = {
                arcId: getId,
                arcUrl: getUrl,
                arcName: getName,
                arcGender: getGender,
                arcPhoneNumber: getPhoneNumber,
                arcAddress: getAddress,
                arcCoverPhoto: getCoverPhoto,
                arcEducation: getEducation,
                arcExperience: getExperience,
                arcEmail: getEmail,
                arcPassword: getPassword,
                booked: [],
                arcDocument: getDocument,
                // arcModelDesign: getModelDesign,
                arcNataCertificate: getNataCertificate,
            }

            console.log(architectData);

            for (let i = 0; i < architectNew.length; i++) {
                if (architectNew[i]["arcEmail"] === getEmail) {
                    check = true;
                    alert("user already exit")
                    break;
                } else {
                    check = false
                }
            }

            if (check === false) {
                architectNew.push(architectData);
                const data = JSON.stringify(architectNew)
                alert("sucessfully completed")
                window.localStorage.setItem("personArchitect", data)
                window.location.href = "./architect_login.html"
            }

        });
    </script>
</body>

</html>