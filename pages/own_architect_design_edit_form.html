<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="../assets/CSS/universe.css" />
    <link rel="stylesheet" href="../assets/CSS/architect_apply_form.css" />
    <title>design edit form</title>
</head>

<body>
    <section class="all-form" style="padding-top: 150px;">
        <form id="designForm1">
            <div class="full_form">
                <div class="form">
                    <label for="image">Photo:</label>
                    <input type="url" id="designimage" name="image" placeholder="Designimage" /><br /><br />
                    <label>design Name:</label>
                    <input type="text" id="designname" placeholder="modern bed room" />
                    <br />
                    <br />
                    <label>Price of design(â‚¹):</label>
                    <input type="text" id="pricedesign" placeholder="22,000" />
                    <br />
                    <br />
                    <label>sq/ft:</label>
                    <input type="text" id="squarefeet" placeholder="1213sq/ft" />
                    <br />
                    <br />
                    <label>Price per sq/ft:</label>
                    <input type="text" id="pricepersquarefeet" />
                    <br />
                    <br />
                    <label for="browser">type of room:</label>
                    <input list="browsers" name="browser" id="browser">
                    <datalist id="browsers">
                        <option value="Bedroom">
                        <option value="livingroom">
                        <option value="kitchen">
                        <option value="Bathroom">
                    </datalist>
                    <br />
                    <br />
                </div>
                <div class="form">
                    <label>Required dates:</label>
                    <input type="text" id="dates" placeholder="3 months" />
                    <br />
                    <br />
                    <label>no.of.Bathrooms:</label>
                    <input type="text" id="bathrooms" placeholder="2" />
                    <br />
                    <br />
                    <label>no.of.Bedroom:</label>
                    <input type="text" id="bedroom" placeholder="2" />
                    <br />
                    <br />
                    <label>no.of.Balcony:</label>
                    <input type="text" id="balcony" placeholder="2" />
                    <br />
                    <br />
                    <label>Bio about the design:</label>
                    <textarea type="text" id="paragraph"></textarea>
                    <br />
                    <br />
                    <label>Brief about the design:</label>
                    <textarea type="text" id="brief_paragraph"></textarea>
                    <br />
                    <br />

                    <button type="submit">submit

                    </button>
                </div>
            </div>
        </form>

    </section>


    <script>

        let designID = JSON.parse(localStorage.getItem("designID"));
        console.log(designID);
        let designData = JSON.parse(localStorage.getItem("personDesign"));
        console.log(designData);

        let currentdesign = designData.find(function (des) {
            let id = des["designid"];
            if (designID == id) {
                return true;
            }
        });

        console.log(currentdesign);

        document.getElementById("designimage").value = currentdesign.designimg;
        document.getElementById("designname").value = currentdesign.designdname;
        document.getElementById("pricedesign").value = currentdesign.designpdesign;
        document.getElementById("squarefeet").value = currentdesign.designsquarefeet;
        document.getElementById("pricepersquarefeet").value = currentdesign.designppsquarefeet;
        document.getElementById("browser").value = currentdesign.designtype;
        document.getElementById("dates").value = currentdesign.designdates;
        document.getElementById("bathrooms").value = currentdesign.designbathroom;
        document.getElementById("bedroom").value = currentdesign.designbedroom;
        document.getElementById("balcony").value = currentdesign.designbalcony;
        document.getElementById("paragraph").value = currentdesign.designpara;
        document.getElementById("brief_paragraph").value = currentdesign.designpara;

        let designForm1 = document.getElementById("designForm1");
        designForm1.addEventListener("submit", (e) => {
            e.preventDefault();
            let currentdesign = designData.find(function (des) {
                let id = des["designid"];
                if (designID == id) {
                    return true;
                }
            });

            const detailimg = document.getElementById("designimage").value.trim();
            const detaildname = document.getElementById("designname").value.trim();
            const detailpdesign = document.getElementById("pricedesign").value.trim();
            const detailsquarefeet = document.getElementById("squarefeet").value.trim();
            const detailppsquarefeet = document.getElementById("pricepersquarefeet").value.trim();
            const detailtype = document.getElementById("browser").value.trim();
            const detaildates = document.getElementById("dates").value.trim();
            const detailbathroom = document.getElementById("bathrooms").value.trim();
            const detailbedroom = document.getElementById("bedroom").value.trim();
            const detailbalcony = document.getElementById("balcony").value.trim();
            const detailpara = document.getElementById("paragraph").value.trim();
            const detailbriefpara = document.getElementById("brief_paragraph").value.trim();

            currentdesign.designimg = detailimg;
            currentdesign.designdname = detaildname;
            currentdesign.designpdesign = detailpdesign;
            currentdesign.designsquarefeet = detailsquarefeet;
            currentdesign.designppsquarefeet = detailppsquarefeet;
            currentdesign.designtype = detailtype;
            currentdesign.designdates = detaildates;
            currentdesign.designbathroom = detailbathroom;
            currentdesign.designbedroom = detailbedroom;
            currentdesign.designbalcony = detailbalcony;
            currentdesign.designpara = detailpara;
            currentdesign.designpara = detailbriefpara;

            localStorage.setItem("personDesign", JSON.stringify(designData));
            window.location.href = "./own_architect_profile.html"
        });

    </script>
</body>

</html>